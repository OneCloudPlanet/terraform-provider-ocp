---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ocp_cluster Resource - terraform-provider-ocp"
subcategory: ""
description: |-
  
---

# ocp_cluster

Creates and manages a Kubernetes Cluster.

## Example Usage

```hcl
resource "ocp_cluster" "new_cluster" {
  cluster_name     = "cluster-name"
  cluster_version  = ocp_cluster_version.list_versions.versions[0].version
  master_flavor_id = ocp_flavor.list_flavors.flavors[0].id
  master_count     = 3
  image            = ocp_cluster_version.list_versions.versions[0].images[0].image_name
  networking       = ocp_cluster_networking.list_networking.networking[0].id
  restriction_api  = true
  restriction_ips  = ["12.12.12.12/32", "13.13.13.13/32"]
  node_pool {
    name       = "nodepool-name"
    flavor_id  = ocp_flavor.list_flavors.flavors[0].id
    node_count = 3
    autoscale  = true
    max_count  = 5
  }
  addons {
    dashboard = true
    metrics   = true
    nginx     = true
  }
}
```

## Argument Reference

- `cluster_name` - (String) Cluster name. Changing this creates a new cluster.
- `cluster_version` - (String) Kubernetes version of the cluster. Changing this upgrades the cluster version. You can retrieve information about the Kubernetes versions with the [ocp_cluster_version](../data-sources/cluster_version.md) data source.
- `master_flavor_id` - (String) ID Flavor for control plane nodes. Use flavor with more than 4GB RAM. Changing this creates a new cluster. You can retrieve information about the Flavors with the [ocp_flavor](../data-sources/flavor.md) data source.
- `master_count` - (Number) Number of control plane nodes. Enter an uneven value. Changing this creates a new cluster. 
- `image` - (String) Used image name. Changing this creates a new cluster. You can retrieve information about Image in the Kubernetes versions with the [ocp_cluster_version](../data-sources/cluster_version.md) data source.
- `networking` - (String) Used network in cluster. Changing this creates a new cluster. You can retrieve information about the Networking with the [ocp_cluster_networking](../data-sources/cluster_networking.md) data source.
- `restriction_api` - (Boolean) Enable restriction for cluster API. Changing this upgrades the cluster.
- `restriction_ips` - (List of String) White list of IP's in `*.*.*.*/*` format. Available mask's: `32`, `24`, `22`, `16`. If restriction is disabled use empty list `[]`
- `node_pool` - Default node pool object
    + `name` - (String) Name node pool. Changing this creates a new cluster.
    + `flavor_id` - (String) ID Flavor for node pool. Use flavor with more than 8GB RAM. Changing this creates a new cluster. You can retrieve information about the Flavors with the [ocp_flavor](../data-sources/flavor.md) data source.
    + `node_count` - (Number) Number of nodes in node pool. Changing this upgrades the node pool.
    + `autoscale` - (Boolean) Auto scale number of nodes in node pool. Changing this upgrades the node pool.
    + `max_count` - (Optional) (Number) Max number of nodes if enabled autoscale.
- `addons` - Addons Object
    + `dashboard` - (Optional) (Boolean) Kubernetes Dashboard
    + `metrics` - (Optional) (Boolean) Kubernetes Metrics
    + `nginx` - (Optional) (Boolean) Ingress Nginx

## Attributes Reference

- `id` - The ID of this resource.
- `status` - Cluster status
- `api_address` - IP address of the Kube API.
- `control_nodes` - List of control nodes in control plane (see [below for nested schema](#nestedatt--nodes))
- `status_reason` - More info for status cluster.
- `created_at` - Created At
- `updated_at` - Updated At
- `node_pool` - Default node pool object
    + `id` - ID Default node pool
    + `flavor` - Name of used flavor
    + `status` - Node pool status
    + `is_default` - `true` for default node in cluster. 
    + `nodes` - List of nodes in node pool (see [below for nested schema](#nestedatt--nodes))

<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`, `control nodes`
- `id` - Instance id
- `name` - Instance name
- `control_plane` - `true` for nodes in control plane
- `flavor` - Name of used flavor
- `node_pool` - Name node pool (for nodes not in control plane)
- `ready` - `true` if ready
- `state` - Node state
- `version` - Version Kubernetes on node